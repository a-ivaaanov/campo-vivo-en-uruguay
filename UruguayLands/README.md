# UruguayLands

Система мониторинга и анализа объявлений о продаже земельных участков в Уругвае.

## Описание проекта

UruguayLands - это инструмент для сбора, анализа и уведомления о новых объявлениях о продаже земельных участков в Уругвае с различных площадок.

Основные возможности:
- Сбор данных с популярных площадок: MercadoLibre, InfoCasas, Gallito и других
- Анализ и фильтрация объявлений
- Оповещение о новых объявлениях через Telegram
- Хранение истории объявлений
- Визуализация данных

## Структура проекта

```
UruguayLands/
├── app/
│   ├── models/           # Модели данных
│   ├── parsers/          # Парсеры для различных сайтов
│   ├── services/         # Сервисы (Telegram, обработка изображений и т.д.)
│   └── utils/            # Вспомогательные функции
├── config/               # Конфигурационные файлы
├── data/                 # Директория для сохранения данных
├── tests/                # Тесты
└── run.py                # Скрипт для запуска парсеров
```

## Установка и настройка

### Требования
- Python 3.9 или выше
- Playwright (для управления браузером)
- Pydantic (для моделей данных)

### Установка зависимостей

```bash
# Установка Python-зависимостей
pip install -r requirements.txt

# Установка Playwright
python -m playwright install chromium
```

### Настройка окружения

Создайте файл `.env` на основе примера `.env.example`:

```bash
cp .env.example .env
```

## Тестирование

### Тестирование парсера MercadoLibre

Для быстрой проверки работы парсера MercadoLibre можно использовать упрощенный скрипт:

```bash
python test_ml_simple.py
```

Данный скрипт запустит парсер MercadoLibre для одной страницы и сохранит результаты в директорию `test_results/`.

### Запуск всех парсеров

```bash
python run.py --parser all --pages 1 --headless
```

Параметры:
- `--parser` - какой парсер запустить (mercadolibre, infocasas, gallito, all)
- `--pages` - количество страниц для обработки
- `--details` - флаг для получения детальной информации по каждому объявлению
- `--headless` - запустить браузер в фоновом режиме

## Логирование и отладка

Логи сохраняются в файлы:
- `errors/` - ошибки парсеров
- `test_results/` - результаты тестирования
- `data/` - данные объявлений

## Обслуживание и обновление

Для обновления парсеров при изменении структуры сайтов:
1. Проверьте селекторы в соответствующем файле парсера в `app/parsers/`
2. Обновите селекторы при необходимости
3. Запустите тестирование парсера с новыми селекторами

## Контактная информация

По вопросам использования и разработки обращайтесь: your-email@example.com
